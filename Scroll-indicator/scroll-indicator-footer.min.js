(function(){function e(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})}window.__scrollIndicatorsInit||(window.__scrollIndicatorsInit=!0,e(function(){function e(){a=Array.from(document.querySelectorAll(".indicator-wrapper"))}function t(){const e=window.scrollY||window.pageYOffset,t=window.innerHeight||r.clientHeight,n=Math.max(r.scrollHeight,r.offsetHeight,r.clientHeight,document.body?Math.max(document.body.scrollHeight,document.body.offsetHeight):0);return e+t>=n-c}function n(e){const t=e.querySelector(".indicator-top-wrapper");if(!t)return;const n=Array.from(e.querySelectorAll(".indicator")).find(e=>!t.contains(e));if(!n)return;const o=e.classList.contains("is-at-end");o&&e.classList.remove("is-at-end");const i=t.getBoundingClientRect(),s=n.getBoundingClientRect(),d=(i.top+i.bottom)/2,r=(s.top+s.bottom)/2,c=e=>Math.round(2*e)/2,a=Math.max(0,c((r-d)/2));o&&e.classList.add("is-at-end"),e.style.setProperty("--ind-merge-shift",`${a}px`)}function o(){a.forEach(n)}function i(){const e=t();a.forEach(t=>t.classList.toggle("is-at-end",e))}function s(){l||(l=!0,requestAnimationFrame(()=>{l=!1,o(),i()}))}function d(){e(),s(),setTimeout(s,50),setTimeout(s,200)}const r=document.documentElement,c=2;let a=[],l=!1;if(d(),window.ResizeObserver){const e=new ResizeObserver(()=>d());e.observe(document.documentElement),document.body&&e.observe(document.body)}window.addEventListener("resize",d,{passive:!0}),window.addEventListener("orientationchange",d,{passive:!0}),window.addEventListener("load",d,{passive:!0}),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&d()}),window.visualViewport&&(visualViewport.addEventListener("resize",d,{passive:!0}),visualViewport.addEventListener("scroll",d,{passive:!0})),window.addEventListener("scroll",()=>{const e=t();a.forEach(t=>t.classList.toggle("is-at-end",e))},{passive:!0}),document.fonts&&document.fonts.ready&&document.fonts.ready.then(d).catch(()=>{}),document.addEventListener("spa:ready",d),window.ScrollIndicators=window.ScrollIndicators||{},window.ScrollIndicators.refresh=d}))})();