(function(){function e(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})}window.__scrollIndicatorsInit||(window.__scrollIndicatorsInit=!0,e(function(){function e(){return window.visualViewport&&window.visualViewport.height||window.innerHeight||u.clientHeight}function t(){return Math.max(m.scrollHeight,u.scrollHeight,document.body?document.body.scrollHeight:0)}function n(){return("number"==typeof window.scrollY?window.scrollY:m.scrollTop)||0}function o(){w=Array.from(document.querySelectorAll(".indicator-wrapper"))}function i(){const o=n(),i=e(),s=t(),r=Math.max(1,s-i),d=3;return r-o<=d||o>=r}function s(e){const t=e.querySelector(".indicator-top-wrapper");if(!t)return;const n=Array.from(e.querySelectorAll(".indicator")).find(e=>!t.contains(e));if(!n)return;const o=e.classList.contains("is-at-end");o&&e.classList.remove("is-at-end");const i=t.getBoundingClientRect(),s=n.getBoundingClientRect(),r=(i.top+i.bottom)/2,d=(s.top+s.bottom)/2,c=e=>Math.round(2*e)/2,a=Math.max(0,c((d-r)/2));o&&e.classList.add("is-at-end"),e.style.setProperty("--ind-merge-shift",`${a}px`)}function r(){w.forEach(s)}function d(){if(!document.body)return;let e=document.getElementById("scroll-end-sentinel-js");e||(e=document.createElement("div"),e.id="scroll-end-sentinel-js",e.style.cssText="height:1px;width:1px;",document.body.appendChild(e)),"IntersectionObserver"in window&&(p&&p.disconnect(),p=new IntersectionObserver(e=>{const t=e[0];t&&(v=!!t.isIntersecting,c())},{rootMargin:"0px 0px calc(env(safe-area-inset-bottom,0) + 1px) 0px",threshold:.999}),p.observe(e))}function c(){const e=v||i();w.forEach(t=>t.classList.toggle("is-at-end",e))}function a(){f||(f=!0,requestAnimationFrame(()=>{f=!1,r(),c()}))}function l(){o(),d(),a(),setTimeout(a,50),setTimeout(a,200)}const u=document.documentElement,m=document.scrollingElement||document.documentElement;let w=[],v=!1,p=null,f=!1;if(l(),window.ResizeObserver){const e=new ResizeObserver(()=>l());e.observe(document.documentElement),document.body&&e.observe(document.body)}window.addEventListener("resize",l,{passive:!0}),window.addEventListener("orientationchange",l,{passive:!0}),window.addEventListener("load",l,{passive:!0}),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&l()}),window.visualViewport&&(visualViewport.addEventListener("resize",l,{passive:!0}),visualViewport.addEventListener("scroll",l,{passive:!0})),window.addEventListener("scroll",()=>{c()},{passive:!0}),document.fonts&&document.fonts.ready&&document.fonts.ready.then(l).catch(()=>{}),document.addEventListener("spa:ready",l),window.ScrollIndicators=window.ScrollIndicators||{},window.ScrollIndicators.refresh=l}))})();