(function(){"use strict";function t(t,e){try{const n=getComputedStyle(t).getPropertyValue(e).trim();if(!n)return NaN;const i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.width=n,t.appendChild(i);const o=parseFloat(getComputedStyle(i).width);return i.remove(),Number.isFinite(o)&&o>0?o:NaN}catch{return NaN}}function e(){const t=document.querySelectorAll(".logo-eyes .eyes");t.length&&t.forEach(t=>{"1"!==t.dataset.logoEyesInit&&(t.dataset.logoEyesInit="1",n(t,o))})}function n(e,n){function o(t){const n=e.getBoundingClientRect(),i=n.left+n.width/2,o=n.top+n.height/2,a=t.clientX-i,s=t.clientY-o,r=Math.atan2(s,a);E=Math.cos(r)*M,b=Math.sin(r)*M;const c=Math.min(Math.hypot(a,s),u);N=g-c/u*(g-h),d()}function a(){s(),B=setInterval(()=>{E=(Math.random()-.5)*M*2,b=(Math.random()-.5)*M*2},1200)}function s(){B&&(clearInterval(B),B=null)}function d(){clearTimeout(x),s(),n&&(N=1),x=setTimeout(a,2e3)}function r(){const t=e.getBoundingClientRect(),n=c[0].getBoundingClientRect(),i=t.height,o=c[0].getBoundingClientRect(),a=c[1].getBoundingClientRect(),s=o.left+o.width/2,d=a.left+a.width/2,r=Math.abs(d-s),l=Math.max(3,.33*(i-n.height)),u=Math.max(3,.25*(r-n.width));return Math.min(14,Math.max(5,Math.min(l,u)))}const c=Array.from(e.querySelectorAll(".pupil"));if(c.length<2)return;const l=2e3,u=40,m=.08,h=1,g=1.2,y=60,f=.22,v=.35,w=.06,p=e.closest(".logo-eyes")||e;let M=t(p,"--eye-move");(!Number.isFinite(M)||M<=0)&&(M=r());let E=0,b=0,C=0,L=0,N=1,T=1,S=1,x=null,B=null;if(function t(){C+=(E-C)*m,L+=(b-L)*m;const e=S<T?v:f;T+=(S-T)*e;const n=`translate(${C}px, ${L}px) scale(${N}) scaleY(${T})`;for(let t=0;t<c.length;t++)c[t].style.transform=n;requestAnimationFrame(t)}(),n||window.addEventListener("mousemove",o,i),n){const t=()=>{E=0,b=0,d()};window.addEventListener("pointerdown",t,i),window.addEventListener("pointermove",t,i),window.addEventListener("scroll",t,i),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&d()})}d(),function(){function t(t){S=w,setTimeout(()=>{S=1,t&&setTimeout(t,40+120*Math.random())},y)}const e=()=>l+2e3*Math.random();setTimeout(function n(){Math.random()<.15?t(()=>t()):t(),setTimeout(n,e())},e())}(),window.addEventListener("resize",()=>{setTimeout(()=>{const e=t(p,"--eye-move");M=Number.isFinite(e)&&e>0?e:r()},0)},i)}const i={passive:!0},o=window.matchMedia("(hover: none), (pointer: coarse)").matches;"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e),document.addEventListener("spa:ready",e)})();